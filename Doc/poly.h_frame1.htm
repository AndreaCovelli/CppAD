<html><head>
<title>Poly Source Code</title>
<meta name="description" content="Poly Source Code">
<meta name="keywords" content=" source Poly "><style type='text/css'>
BODY { color : black }
BODY { background-color : white }
</style>
</head>
<body>
<div align='right'><a href="poly.cpp.htm" target="_top">previous</a>
&nbsp;&nbsp;<a href="speedtest.htm" target="_top">next</a>
&nbsp;&nbsp;<a href="_contents.htm" target="_top">contents</a>
&nbsp;&nbsp;<a href="_reference.htm" target="_top">reference</a>
&nbsp;&nbsp;<a href="_index.htm" target="_top">index</a>
&nbsp;&nbsp;<a href="_search.htm" target="_top">search</a>
&nbsp;&nbsp;<a href="_external.htm" target="_top">external</a>
&nbsp;&nbsp;This:&nbsp;&nbsp;<a href="poly.h.htm" target="_top">section</a>, <a href="poly.h_frame1.htm" target="_top">frame</a></div>
<hr>

<center><b><big><big>Poly Source Code</big></big></b></center>
<code><font color="blue">
<span style='white-space: nowrap'><br>
#&nbsp;include&nbsp;&lt;cstddef&gt;&nbsp;&nbsp;//&nbsp;used&nbsp;to&nbsp;defined&nbsp;size_t<br>
namespace&nbsp;CppAD&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;BEGIN&nbsp;CppAD&nbsp;namespace<br>
<br>
template&nbsp;&lt;class&nbsp;Type,&nbsp;class&nbsp;Vector&gt;<br>
Type&nbsp;Poly(size_t&nbsp;k,&nbsp;const&nbsp;Vector&nbsp;&amp;a,&nbsp;const&nbsp;Type&nbsp;&amp;z)<br>
{&nbsp;&nbsp;&nbsp;&nbsp;size_t&nbsp;i;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size_t&nbsp;d&nbsp;=&nbsp;a.size()&nbsp;-&nbsp;1;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;case&nbsp;where&nbsp;derivative&nbsp;order&nbsp;greater&nbsp;than&nbsp;degree&nbsp;of&nbsp;polynomial<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;k&nbsp;&gt;&nbsp;d&nbsp;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;Type(0);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;case&nbsp;where&nbsp;we&nbsp;are&nbsp;evaluating&nbsp;a&nbsp;derivative<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;k&nbsp;&gt;&nbsp;0&nbsp;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;initialize&nbsp;factor&nbsp;as&nbsp;(k-1)&nbsp;!<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size_t&nbsp;factor&nbsp;=&nbsp;1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i&nbsp;=&nbsp;2;&nbsp;i&nbsp;&lt;&nbsp;k;&nbsp;i++)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factor&nbsp;*=&nbsp;i;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;set&nbsp;b&nbsp;to&nbsp;coefficient&nbsp;vector&nbsp;corresponding&nbsp;to&nbsp;derivative<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vector&nbsp;b(d&nbsp;-&nbsp;k&nbsp;+&nbsp;1);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i&nbsp;=&nbsp;k;&nbsp;i&nbsp;&lt;=&nbsp;d;&nbsp;i++)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;factor&nbsp;&nbsp;&nbsp;*=&nbsp;i;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b[i&nbsp;-&nbsp;k]&nbsp;&nbsp;=&nbsp;a[i]&nbsp;*&nbsp;Type(factor);&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factor&nbsp;&nbsp;&nbsp;/=&nbsp;(i&nbsp;-&nbsp;k&nbsp;+&nbsp;1);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;value&nbsp;of&nbsp;derivative&nbsp;polynomial<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;Poly(0,&nbsp;b,&nbsp;z);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;case&nbsp;where&nbsp;we&nbsp;are&nbsp;evaluating&nbsp;the&nbsp;original&nbsp;polynomial<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type&nbsp;sum&nbsp;=&nbsp;a[d];<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;d;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(i&nbsp;&gt;&nbsp;0)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;sum&nbsp;*=&nbsp;z;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sum&nbsp;+=&nbsp;a[--i];<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;sum;<br>
}<br>
}&nbsp;//&nbsp;END&nbsp;CppAD&nbsp;namespace<br>
</span>
</font></code>

<hr>Input File: CppAD\Poly.h

</body>
</html>
